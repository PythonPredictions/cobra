

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module contents &mdash; cobra 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="cobra" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> cobra
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">cobra</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-cobra.preprocessing">cobra.preprocessing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-cobra.model_building">cobra.model_building module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-cobra.evaluation">cobra.evaluation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-cobra.utils">cobra.utils module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cobra</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">cobra</a> &raquo;</li>
        
      <li>Module contents</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/docstring/cobra.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-contents">
<h1>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-cobra.preprocessing">
<span id="cobra-preprocessing-module"></span><h2>cobra.preprocessing module<a class="headerlink" href="#module-cobra.preprocessing" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="cobra.preprocessing.KBinsDiscretizer">
<em class="property">class </em><code class="sig-prename descclassname">cobra.preprocessing.</code><code class="sig-name descname">KBinsDiscretizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_bins</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'quantile'</span></em>, <em class="sig-param"><span class="n">closed</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'right'</span></em>, <em class="sig-param"><span class="n">auto_adapt_bins</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">starting_precision</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">label_format</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'{} - {}'</span></em>, <em class="sig-param"><span class="n">change_endpoint_format</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/kbins_discretizer.html#KBinsDiscretizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code></p>
<p>Bin continuous data into intervals of predefined size. It provides a
way to partition continuous data into discrete values, i.e. tranform
continuous data into nominal data. This can make a linear model more
expressive as it introduces nonlinearity to the model, while maintaining
the interpretability of the model afterwards.</p>
<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.auto_adapt_bins">
<code class="sig-name descname">auto_adapt_bins</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.auto_adapt_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>reduces the number of bins (starting from n_bins) as a function of
the number of missings</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.change_endpoint_format">
<code class="sig-name descname">change_endpoint_format</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.change_endpoint_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not to change the format of the lower and upper bins into
<code class="docutils literal notranslate"><span class="pre">&lt;=</span> <span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">y</span></code> resp.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.closed">
<code class="sig-name descname">closed</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to close the bins (intervals) from the left or right</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.label_format">
<code class="sig-name descname">label_format</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.label_format" title="Permalink to this definition">¶</a></dt>
<dd><p>format string to display the bin labels
e.g. <code class="docutils literal notranslate"><span class="pre">min</span> <span class="pre">-</span> <span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">(min,</span> <span class="pre">max]</span></code>, …</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.n_bins">
<code class="sig-name descname">n_bins</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.n_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of bins to produce. Raises ValueError if <code class="docutils literal notranslate"><span class="pre">n_bins</span> <span class="pre">&lt;</span> <span class="pre">2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.starting_precision">
<code class="sig-name descname">starting_precision</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.starting_precision" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial precision for the bin edges to start from,
can also be negative. Given a list of bin edges, the class will
automatically choose the minimal precision required to have proper bins
e.g. <code class="docutils literal notranslate"><span class="pre">[5.5555,</span> <span class="pre">5.5744,</span> <span class="pre">...]</span></code> will be rounded to
<code class="docutils literal notranslate"><span class="pre">[5.56,</span> <span class="pre">5.57,</span> <span class="pre">...]</span></code>. In case of a negative number, an attempt will be
made to round up the numbers of the bin edges e.g. <code class="docutils literal notranslate"><span class="pre">5.55</span> <span class="pre">-&gt;</span> <span class="pre">10</span></code>,
<code class="docutils literal notranslate"><span class="pre">146</span> <span class="pre">-&gt;</span> <span class="pre">100</span></code>, …</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.strategy">
<code class="sig-name descname">strategy</code><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Binning strategy. Currently only <cite>uniform</cite> and <cite>quantile</cite>
e.g. equifrequency is supported</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.valid_strategies">
<code class="sig-name descname">valid_strategies</code><em class="property"> = ('uniform', 'quantile')</em><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.valid_strategies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.KBinsDiscretizer.valid_keys">
<code class="sig-name descname">valid_keys</code><em class="property"> = ['n_bins', 'strategy', 'closed', 'auto_adapt_bins', 'starting_precision', 'label_format', 'change_endpoint_format']</em><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.valid_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.KBinsDiscretizer.attributes_to_dict">
<code class="sig-name descname">attributes_to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/cobra/preprocessing/kbins_discretizer.html#KBinsDiscretizer.attributes_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.attributes_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the attributes of KBinsDiscretizer in a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Contains the attributes of KBinsDiscretizer instance with the names
as keys</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.KBinsDiscretizer.set_attributes_from_dict">
<code class="sig-name descname">set_attributes_from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/kbins_discretizer.html#KBinsDiscretizer.set_attributes_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.set_attributes_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set instance attributes from a dictionary of values with key the
name of the attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>dict</em>) – Contains the attributes of KBinsDiscretizer with their
names as key.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – In case <cite>_bins_by_column</cite> is not of type dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.KBinsDiscretizer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/kbins_discretizer.html#KBinsDiscretizer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the estimator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Data to be discretized</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Names of the columns of the DataFrame to discretize</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.KBinsDiscretizer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/kbins_discretizer.html#KBinsDiscretizer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Discretizes the data in the given list of columns by mapping each
number to the appropriate bin computed by the fit method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Data to be discretized</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Names of the columns of the DataFrame to discretize</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data with additional discretized variables</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.KBinsDiscretizer.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/kbins_discretizer.html#KBinsDiscretizer.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.KBinsDiscretizer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits to data, then transform it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Data to be discretized</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Names of the columns of the DataFrame to discretize</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data with additional discretized variables</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cobra.preprocessing.TargetEncoder">
<em class="property">class </em><code class="sig-prename descclassname">cobra.preprocessing.</code><code class="sig-name descname">TargetEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">weight</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">imputation_strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'mean'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/target_encoder.html#TargetEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.TargetEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code></p>
<p>Target encoding for categorical features.</p>
<p>Replace each value of the categorical feature with the average of the
target values (in case of a binary target, this is the incidence of the
group). This encoding scheme is also called Mean encoding.</p>
<p>The main problem with Target encoding is overfitting; the fact that we are
encoding the feature based on target classes may lead to data leakage,
rendering the feature biased. This can be solved using some type of
regularization. A popular way to handle this is to use cross-validation
and compute the means in each out-of-fold. However, the approach
implemented here makes use of additive smoothing
(<a class="reference external" href="https://en.wikipedia.org/wiki/Additive_smoothing">https://en.wikipedia.org/wiki/Additive_smoothing</a>)</p>
<dl class="py attribute">
<dt id="cobra.preprocessing.TargetEncoder.imputation_strategy">
<code class="sig-name descname">imputation_strategy</code><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.imputation_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>in case there is a particular column which contains new categories,
the encoding will lead to NULL values which should be imputed.
Valid strategies are to replace with the global mean of the train
set or the min (resp. max) incidence of the categories of that
particular variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.TargetEncoder.weight">
<code class="sig-name descname">weight</code><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Smoothing parameters (non-negative). The higher the value of the
parameter, the bigger the contribution of the overall mean. When set to
zero, there is no smoothing (e.g. the pure target incidence is used).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.TargetEncoder.valid_strategies">
<code class="sig-name descname">valid_strategies</code><em class="property"> = ('mean', 'min', 'max')</em><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.valid_strategies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.TargetEncoder.attributes_to_dict">
<code class="sig-name descname">attributes_to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/cobra/preprocessing/target_encoder.html#TargetEncoder.attributes_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.attributes_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the attributes of TargetEncoder in a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Contains the attributes of TargetEncoder instance with the names
as keys</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.TargetEncoder.set_attributes_from_dict">
<code class="sig-name descname">set_attributes_from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/target_encoder.html#TargetEncoder.set_attributes_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.set_attributes_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set instance attributes from a dictionary of values with key the
name of the attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>dict</em>) – Contains the attributes of TargetEncoder with their
names as key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.TargetEncoder.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/target_encoder.html#TargetEncoder.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the TargetEncoder to the data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – data used to compute the mapping to encode the categorical
variables with.</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Columns of data to be encoded</p></li>
<li><p><strong>target_column</strong> (<em>str</em>) – Column name of the target</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.TargetEncoder.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/target_encoder.html#TargetEncoder.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace (e.g. encode) categories of each column with its average
incidence which was computed when the fit method was called</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>pd.DataFrame</em>) – data to encode</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Columns of data to be encoded</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>transformed data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotFittedError</strong> – Exception when TargetEncoder was not fitted before calling this
    method</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.TargetEncoder.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/target_encoder.html#TargetEncoder.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.TargetEncoder.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the encoder and transform the data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Data to be encoded</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Columns of data to be encoded</p></li>
<li><p><strong>target_column</strong> (<em>str</em>) – Column name of the target</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data with additional discretized variables</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cobra.preprocessing.CategoricalDataProcessor">
<em class="property">class </em><code class="sig-prename descclassname">cobra.preprocessing.</code><code class="sig-name descname">CategoricalDataProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">regroup</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">regroup_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'Other'</span></em>, <em class="sig-param"><span class="n">keep_missing</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">category_size_threshold</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">p_value_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">scale_contingency_table</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">forced_categories</span><span class="p">:</span> <span class="n">dict</span> <span class="o">=</span> <span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/categorical_data_processor.html#CategoricalDataProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code></p>
<p>Regroups categories in categorical variables based on significance
with target variable.</p>
<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.category_size_threshold">
<code class="sig-name descname">category_size_threshold</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.category_size_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>minimal size of a category to keep it as a separate category</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.forced_categories">
<code class="sig-name descname">forced_categories</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.forced_categories" title="Permalink to this definition">¶</a></dt>
<dd><p>Map to prevent certain categories from being group into <code class="docutils literal notranslate"><span class="pre">Other</span></code>
for each colum - dict of the form <code class="docutils literal notranslate"><span class="pre">{col:[forced</span> <span class="pre">vars]}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.keep_missing">
<code class="sig-name descname">keep_missing</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.keep_missing" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not to keep missing as a separate category</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.p_value_threshold">
<code class="sig-name descname">p_value_threshold</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.p_value_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Significance threshold for regroupping.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.regroup">
<code class="sig-name descname">regroup</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.regroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not to regroup categories</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.regroup_name">
<code class="sig-name descname">regroup_name</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.regroup_name" title="Permalink to this definition">¶</a></dt>
<dd><p>New name of the non-significant regrouped variables</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.scale_contingency_table">
<code class="sig-name descname">scale_contingency_table</code><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.scale_contingency_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether contingency table should be scaled before chi^2.’</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.CategoricalDataProcessor.valid_keys">
<code class="sig-name descname">valid_keys</code><em class="property"> = ['regroup', 'regroup_name', 'keep_missing', 'category_size_threshold', 'p_value_threshold', 'scale_contingency_table', 'forced_categories']</em><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.valid_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.CategoricalDataProcessor.attributes_to_dict">
<code class="sig-name descname">attributes_to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/cobra/preprocessing/categorical_data_processor.html#CategoricalDataProcessor.attributes_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.attributes_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the attributes of CategoricalDataProcessor as a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Contains the attributes of CategoricalDataProcessor instance with
the attribute name as key</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.CategoricalDataProcessor.set_attributes_from_dict">
<code class="sig-name descname">set_attributes_from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span><span class="p">:</span> <span class="n">dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/categorical_data_processor.html#CategoricalDataProcessor.set_attributes_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.set_attributes_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set instance attributes from a dictionary of values with key the
name of the attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> (<em>dict</em>) – Contains the attributes of CategoricalDataProcessor with their
names as key.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – In case _cleaned_categories_by_column is not of type dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.CategoricalDataProcessor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/categorical_data_processor.html#CategoricalDataProcessor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the CategoricalDataProcessor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – data used to compute the mapping to encode the categorical
variables with.</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Columns of data to be processed</p></li>
<li><p><strong>target_column</strong> (<em>str</em>) – Column name of the target</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.CategoricalDataProcessor.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/categorical_data_processor.html#CategoricalDataProcessor.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – data used to compute the mapping to encode the categorical
variables with.</p></li>
<li><p><strong>column_names</strong> (<em>list</em>) – Columns of data to be processed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>data with additional transformed variables</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.CategoricalDataProcessor.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_names</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/categorical_data_processor.html#CategoricalDataProcessor.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.CategoricalDataProcessor.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits to data, then transform it</p>
<blockquote>
<div><p>Parameters</p>
</div></blockquote>
<dl class="simple">
<dt>data<span class="classifier">pd.DataFrame</span></dt><dd><p>data used to compute the mapping to encode the categorical
variables with.</p>
</dd>
<dt>column_names<span class="classifier">list</span></dt><dd><p>Columns of data to be processed</p>
</dd>
<dt>target_column<span class="classifier">str</span></dt><dd><p>Column name of the target</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>data with additional transformed variables</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cobra.preprocessing.PreProcessor">
<em class="property">class </em><code class="sig-prename descclassname">cobra.preprocessing.</code><code class="sig-name descname">PreProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">categorical_data_processor</span><span class="p">:</span> <span class="n">cobra.preprocessing.categorical_data_processor.CategoricalDataProcessor</span></em>, <em class="sig-param"><span class="n">discretizer</span><span class="p">:</span> <span class="n">cobra.preprocessing.kbins_discretizer.KBinsDiscretizer</span></em>, <em class="sig-param"><span class="n">target_encoder</span><span class="p">:</span> <span class="n">cobra.preprocessing.target_encoder.TargetEncoder</span></em>, <em class="sig-param"><span class="n">serialization_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_fitted</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.base.BaseEstimator</span></code></p>
<p>Summary</p>
<dl class="py attribute">
<dt id="cobra.preprocessing.PreProcessor.categorical_data_processor">
<code class="sig-name descname">categorical_data_processor</code><a class="headerlink" href="#cobra.preprocessing.PreProcessor.categorical_data_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of CategoricalDataProcessor to do the prepocessing of
categorical variables</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cobra.preprocessing.CategoricalDataProcessor" title="cobra.preprocessing.CategoricalDataProcessor">CategoricalDataProcessor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.PreProcessor.discretizer">
<code class="sig-name descname">discretizer</code><a class="headerlink" href="#cobra.preprocessing.PreProcessor.discretizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of KBinsDiscretizer to do the prepocessing of continuous
variables by means of discretization</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cobra.preprocessing.KBinsDiscretizer" title="cobra.preprocessing.KBinsDiscretizer">KBinsDiscretizer</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.PreProcessor.serialization_path">
<code class="sig-name descname">serialization_path</code><a class="headerlink" href="#cobra.preprocessing.PreProcessor.serialization_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path to save the pipeline to</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.PreProcessor.stratify_split">
<code class="sig-name descname">stratify_split</code><a class="headerlink" href="#cobra.preprocessing.PreProcessor.stratify_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not to stratify the train-test split</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.preprocessing.PreProcessor.target_encoder">
<code class="sig-name descname">target_encoder</code><a class="headerlink" href="#cobra.preprocessing.PreProcessor.target_encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of TargetEncoder to do the incidence replacement</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cobra.preprocessing.TargetEncoder" title="cobra.preprocessing.TargetEncoder">TargetEncoder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.PreProcessor.from_params">
<em class="property">classmethod </em><code class="sig-name descname">from_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n_bins</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'quantile'</span></em>, <em class="sig-param"><span class="n">closed</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'right'</span></em>, <em class="sig-param"><span class="n">auto_adapt_bins</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">starting_precision</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">label_format</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'{} - {}'</span></em>, <em class="sig-param"><span class="n">change_endpoint_format</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">regroup</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">regroup_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'Other'</span></em>, <em class="sig-param"><span class="n">keep_missing</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">category_size_threshold</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">5</span></em>, <em class="sig-param"><span class="n">p_value_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.001</span></em>, <em class="sig-param"><span class="n">scale_contingency_table</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">forced_categories</span><span class="p">:</span> <span class="n">dict</span> <span class="o">=</span> <span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">weight</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">imputation_strategy</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'mean'</span></em>, <em class="sig-param"><span class="n">serialization_path</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor.from_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor.from_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor to instantiate PreProcessor from all the parameters
that can be set in all its required (attribute) classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_bins</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of bins to produce. Raises ValueError if <code class="docutils literal notranslate"><span class="pre">n_bins</span> <span class="pre">&lt;</span> <span class="pre">2</span></code>.</p></li>
<li><p><strong>strategy</strong> (<em>str</em><em>, </em><em>optional</em>) – Binning strategy. Currently only <code class="docutils literal notranslate"><span class="pre">uniform</span></code> and <code class="docutils literal notranslate"><span class="pre">quantile</span></code>
e.g. equifrequency is supported</p></li>
<li><p><strong>closed</strong> (<em>str</em><em>, </em><em>optional</em>) – Whether to close the bins (intervals) from the left or right</p></li>
<li><p><strong>auto_adapt_bins</strong> (<em>bool</em><em>, </em><em>optional</em>) – reduces the number of bins (starting from n_bins) as a function of
the number of missings</p></li>
<li><p><strong>starting_precision</strong> (<em>int</em><em>, </em><em>optional</em>) – Initial precision for the bin edges to start from,
can also be negative. Given a list of bin edges, the class will
automatically choose the minimal precision required to have proper
bins e.g. <code class="docutils literal notranslate"><span class="pre">[5.5555,</span> <span class="pre">5.5744,</span> <span class="pre">...]</span></code> will be rounded
to <code class="docutils literal notranslate"><span class="pre">[5.56,</span> <span class="pre">5.57,</span> <span class="pre">...]</span></code>. In case of a negative number, an attempt
will be made to round up the numbers of the bin edges
e.g. <code class="docutils literal notranslate"><span class="pre">5.55</span> <span class="pre">-&gt;</span> <span class="pre">10</span></code>, <code class="docutils literal notranslate"><span class="pre">146</span> <span class="pre">-&gt;</span> <span class="pre">100</span></code>, …</p></li>
<li><p><strong>label_format</strong> (<em>str</em><em>, </em><em>optional</em>) – format string to display the bin labels
e.g. <code class="docutils literal notranslate"><span class="pre">min</span> <span class="pre">-</span> <span class="pre">max</span></code>, <code class="docutils literal notranslate"><span class="pre">(min,</span> <span class="pre">max]</span></code>, …</p></li>
<li><p><strong>change_endpoint_format</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to change the format of the lower and upper bins
into <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">y</span></code> resp.</p></li>
<li><p><strong>regroup</strong> (<em>bool</em>) – Whether or not to regroup categories</p></li>
<li><p><strong>regroup_name</strong> (<em>str</em>) – New name of the non-significant regrouped variables</p></li>
<li><p><strong>keep_missing</strong> (<em>bool</em>) – Whether or not to keep missing as a separate category</p></li>
<li><p><strong>category_size_threshold</strong> (<em>int</em>) – minimal size of a category to keep it as a separate category</p></li>
<li><p><strong>p_value_threshold</strong> (<em>float</em>) – Significance threshold for regroupping.</p></li>
<li><p><strong>forced_categories</strong> (<em>dict</em>) – Map to prevent certain categories from being group into <code class="docutils literal notranslate"><span class="pre">Other</span></code>
for each colum - dict of the form <code class="docutils literal notranslate"><span class="pre">{col:[forced</span> <span class="pre">vars]}</span></code>.</p></li>
<li><p><strong>scale_contingency_table</strong> (<em>bool</em>) – Whether contingency table should be scaled before chi^2.’</p></li>
<li><p><strong>weight</strong> (<em>float</em><em>, </em><em>optional</em>) – Smoothing parameters (non-negative). The higher the value of the
parameter, the bigger the contribution of the overall mean.
When set to zero, there is no smoothing
(e.g. the pure target incidence is used).</p></li>
<li><p><strong>imputation_strategy</strong> (<em>str</em><em>, </em><em>optional</em>) – in case there is a particular column which contains new categories,
the encoding will lead to NULL values which should be imputed.
Valid strategies are to replace with the global mean of the train
set or the min (resp. max) incidence of the categories of that
particular variable.</p></li>
<li><p><strong>serialization_path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to save the pipeline to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cobra.preprocessing.PreProcessor" title="cobra.preprocessing.PreProcessor">PreProcessor</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.PreProcessor.from_pipeline">
<em class="property">classmethod </em><code class="sig-name descname">from_pipeline</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pipeline_path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor.from_pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor.from_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor to instantiate PreProcessor from a (fitted) pipeline,
stored as a JSON file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pipeline_path</strong> (<em>str</em>) – path to the (fitted) pipeline</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of PreProcessor instantiated from a stored pipeline</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#cobra.preprocessing.PreProcessor" title="cobra.preprocessing.PreProcessor">PreProcessor</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – Description</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.PreProcessor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">train_data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">continuous_vars</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">discrete_vars</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the data to the preprocessing pipeline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_data</strong> (<em>pd.DataFrame</em>) – Data to be preprocessed</p></li>
<li><p><strong>continuous_vars</strong> (<em>list</em>) – list of continuous variables</p></li>
<li><p><strong>discrete_vars</strong> (<em>list</em>) – list of discrete variables</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – Name of the target column</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.PreProcessor.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">continuous_vars</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">discrete_vars</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the data by applying the preprocessing pipeline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Data to be preprocessed</p></li>
<li><p><strong>continuous_vars</strong> (<em>list</em>) – list of continuous variables</p></li>
<li><p><strong>discrete_vars</strong> (<em>list</em>) – list of discrete variables</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Transformed (preprocessed) data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>NotFittedError</strong> – In case PreProcessor was not fitted first</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.PreProcessor.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">train_data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">continuous_vars</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">discrete_vars</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit preprocessing pipeline and transform the data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_data</strong> (<em>pd.DataFrame</em>) – Data to be preprocessed</p></li>
<li><p><strong>continuous_vars</strong> (<em>list</em>) – list of continuous variables</p></li>
<li><p><strong>discrete_vars</strong> (<em>list</em>) – list of discrete variables</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – Name of the target column</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.preprocessing.PreProcessor.train_selection_validation_split">
<em class="property">static </em><code class="sig-name descname">train_selection_validation_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">train_prop</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.6</span></em>, <em class="sig-param"><span class="n">selection_prop</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">validation_prop</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">stratify_split</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/preprocessing/preprocessor.html#PreProcessor.train_selection_validation_split"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.preprocessing.PreProcessor.train_selection_validation_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split dataset into train-selection-validation datasets and merge
them into one big DataFrame with an additional column “split”
indicating to which dataset the corresponding row belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Input dataset to split into train-selection and validation sets</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – Name of the target column</p></li>
<li><p><strong>train_prop</strong> (<em>float</em><em>, </em><em>optional</em>) – Percentage data to put in train set</p></li>
<li><p><strong>selection_prop</strong> (<em>float</em><em>, </em><em>optional</em>) – Percentage data to put in selection set</p></li>
<li><p><strong>validation_prop</strong> (<em>float</em><em>, </em><em>optional</em>) – Percentage data to put in validation set</p></li>
<li><p><strong>stratify_split</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to stratify the train-test split</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cobra.model_building">
<span id="cobra-model-building-module"></span><h2>cobra.model_building module<a class="headerlink" href="#module-cobra.model_building" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="cobra.model_building.compute_univariate_preselection">
<code class="sig-prename descclassname">cobra.model_building.</code><code class="sig-name descname">compute_univariate_preselection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_enc_train_data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target_enc_selection_data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predictors</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">target_column</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">preselect_auc_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.053</span></em>, <em class="sig-param"><span class="n">preselect_overtrain_threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.05</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/model_building/univariate_selection.html#compute_univariate_preselection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.compute_univariate_preselection" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a preselection of predictors based on an AUC threshold of
a univariate model on a train and selection dataset and return a datframe
containing for each variable the train and selection AUC along with a
boolean “preselection” column.
As the AUC just calculates the quality of a ranking, all monotonous
transformations of a given ranking (i.e. transformations that do not alter
the ranking itself) will lead to the same AUC.
Hence, pushing a categorical variable (incl. a binned continuous variable)
through a logistic regression will produce exactly the same ranking as
pushing it through incidence replacement (i.e. target encoding),
as it will produce the exact same output: a ranking of the categories on
the training set.
Therefore, no univariate model is trained here as the target encoded train
and selection data is/must be used as inputs for this function. These will
be used as predicted scores to compute the AUC with against the target</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_enc_train_data</strong> (<em>pd.DataFrame</em>) – Train data</p></li>
<li><p><strong>target_enc_selection_data</strong> (<em>pd.DataFrame</em>) – Selection data</p></li>
<li><p><strong>predictors</strong> (<em>list</em>) – list of predictors (e.g. column names in the train set and selection
data sets)</p></li>
<li><p><strong>target_column</strong> (<em>str</em>) – name of the target column</p></li>
<li><p><strong>preselect_auc_threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – threshold on AUC to select predictor</p></li>
<li><p><strong>preselect_overtrain_threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – threshold on the difference between train and selection AUC</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pd.DataFrame</em> – DataFrame containing for each variable the train auc and</p></li>
<li><p><em>selection auc allong with a boolean indicating whether or not it is</em></p></li>
<li><p><em>selected based on the criteria</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.model_building.get_preselected_predictors">
<code class="sig-prename descclassname">cobra.model_building.</code><code class="sig-name descname">get_preselected_predictors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_auc</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em><span class="sig-paren">)</span> &#x2192; list<a class="reference internal" href="../_modules/cobra/model_building/univariate_selection.html#get_preselected_predictors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.get_preselected_predictors" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper function to extract a list of predictors from df_auc</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df_auc</strong> (<em>pd.DataFrame</em>) – DataFrame containing for each variable the train auc and
test auc allong with a boolean indicating whether or not it is selected
based on the criteria</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of preselected predictors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.model_building.compute_correlations">
<code class="sig-prename descclassname">cobra.model_building.</code><code class="sig-name descname">compute_correlations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_enc_train_data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">predictors</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/model_building/univariate_selection.html#compute_correlations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.compute_correlations" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a DataFrame and a list of predictors, compute the correlations
amongst the predictors in the DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_enc_train_data</strong> (<em>pd.DataFrame</em>) – data to compute correlation</p></li>
<li><p><strong>predictors</strong> (<em>list</em>) – List of column names of the DataFrame between which</p></li>
<li><p><strong>from</strong> (<em>matrix</em>) – </p></li>
<li><p><strong>compute correlations</strong> (<em>to</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The correlation matrix of the training set</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="cobra.model_building.LogisticRegressionModel">
<em class="property">class </em><code class="sig-prename descclassname">cobra.model_building.</code><code class="sig-name descname">LogisticRegressionModel</code><a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrapper around the LogisticRegression class, with additional methods
implemented such as evaluation (using auc), getting a list of coefficients,
a ditionary of coefficients per predictor, … for convenience</p>
<dl class="py attribute">
<dt id="cobra.model_building.LogisticRegressionModel.logit">
<code class="sig-name descname">logit</code><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.logit" title="Permalink to this definition">¶</a></dt>
<dd><p>scikit-learn logistic regression model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>LogisticRegression</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.model_building.LogisticRegressionModel.predictors">
<code class="sig-name descname">predictors</code><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.predictors" title="Permalink to this definition">¶</a></dt>
<dd><p>List of predictors used in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.get_coef">
<code class="sig-name descname">get_coef</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.array<a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.get_coef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.get_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the model coefficients</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>array of model coefficients</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.get_intercept">
<code class="sig-name descname">get_intercept</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.get_intercept"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.get_intercept" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the intercept of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>intercept of the model</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.get_coef_by_predictor">
<code class="sig-name descname">get_coef_by_predictor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.get_coef_by_predictor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.get_coef_by_predictor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a map predictor -&gt; coefficient</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map predictor -&gt; coefficient</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X_train</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">y_train</span><span class="p">:</span> <span class="n">pandas.core.series.Series</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_train</strong> (<em>pd.DataFrame</em>) – predictors of train data</p></li>
<li><p><strong>y_train</strong> (<em>pd.Series</em>) – target of train data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.score_model">
<code class="sig-name descname">score_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.score_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.score_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Score a model on a (new) dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>pd.DataFrame</em>) – dataset of predictors to score the model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>score of the model for each observation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">y</span><span class="p">:</span> <span class="n">pandas.core.series.Series</span></em>, <em class="sig-param"><span class="n">split</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.evaluate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the model on a given data set (X, y). The optional split
parameter is to indicate that the data set belongs to
(train, selection, validation), so that the computation on these sets
can be cached!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>pd.DataFrame</em>) – dataset containing the predictor values for each observation</p></li>
<li><p><strong>y</strong> (<em>pd.Series</em>) – dataset containig the target of each observation</p></li>
<li><p><strong>split</strong> (<em>str</em><em>, </em><em>optional</em>) – split of the dataset (e.g. train-selection-validation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the performance score of the model (e.g. AUC)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.LogisticRegressionModel.compute_variable_importance">
<code class="sig-name descname">compute_variable_importance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/model_building/models.html#LogisticRegressionModel.compute_variable_importance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.LogisticRegressionModel.compute_variable_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the importance of each predictor in the model and return
it as a DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>pd.DataFrame</em>) – data to score the model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing columns predictor and importance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="cobra.model_building.ForwardFeatureSelection">
<em class="property">class </em><code class="sig-prename descclassname">cobra.model_building.</code><code class="sig-name descname">ForwardFeatureSelection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_predictors</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">50</span></em>, <em class="sig-param"><span class="n">model_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'logistic-regression'</span></em>, <em class="sig-param"><span class="n">pos_only</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/model_building/forward_selection.html#ForwardFeatureSelection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Perform forward feature selection for a given dataset using a given
model.</p>
<dl class="py attribute">
<dt id="cobra.model_building.ForwardFeatureSelection.max_predictors">
<code class="sig-name descname">max_predictors</code><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection.max_predictors" title="Permalink to this definition">¶</a></dt>
<dd><p>maximum number of predictors allowed in any model. This corresponds
more or less with the maximum number of steps in the forward feature
selection</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.model_building.ForwardFeatureSelection.model_name">
<code class="sig-name descname">model_name</code><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection.model_name" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the model to use for forward feature selection</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.model_building.ForwardFeatureSelection.pos_only">
<code class="sig-name descname">pos_only</code><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection.pos_only" title="Permalink to this definition">¶</a></dt>
<dd><p>whether or not the model coefficients should all be positive</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.ForwardFeatureSelection.get_model_from_step">
<code class="sig-name descname">get_model_from_step</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">step</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; cobra.model_building.models.LogisticRegressionModel<a class="reference internal" href="../_modules/cobra/model_building/forward_selection.html#ForwardFeatureSelection.get_model_from_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection.get_model_from_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Get fitted model from a particular step</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>step</strong> (<em>int</em>) – Particular step in the forward selection</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Fitted model from the given step</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>MLModel</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – in case step is larger than the number of available models</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.ForwardFeatureSelection.compute_model_performances">
<code class="sig-name descname">compute_model_performances</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">splits</span><span class="p">:</span> <span class="n">list</span> <span class="o">=</span> <span class="default_value">['train', 'selection', 'validation']</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/model_building/forward_selection.html#ForwardFeatureSelection.compute_model_performances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection.compute_model_performances" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Compute for each model the performance for</dt><dd><p>train-selection-validation sets and return them along with a list
of predictors used in the model.
Note that the computation of the performance for each split is
cached inside the model itself, so it is inexpensive to perform
it multiple times!</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – dataset for which to compute performance of each model</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – name of the target column</p></li>
<li><p><strong>splits</strong> (<em>list</em><em>, </em><em>optional</em>) – list of splits to compute performance on</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list containing for each model the performance for
train-selection-validation sets as well as the set of predictors
used in this model</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.model_building.ForwardFeatureSelection.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">train_data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">predictors</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="n">forced_predictors</span><span class="p">:</span> <span class="n">list</span> <span class="o">=</span> <span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">excluded_predictors</span><span class="p">:</span> <span class="n">list</span> <span class="o">=</span> <span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/model_building/forward_selection.html#ForwardFeatureSelection.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.model_building.ForwardFeatureSelection.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the forward feature selection estimator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – Data on which to fit the model</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – Name of the target column</p></li>
<li><p><strong>predictors</strong> (<em>list</em>) – List of predictors on which to train the estimator</p></li>
<li><p><strong>forced_predictors</strong> (<em>list</em><em>, </em><em>optional</em>) – List of predictors to force in the estimator</p></li>
<li><p><strong>excluded_predictors</strong> (<em>list</em><em>, </em><em>optional</em>) – List of predictors to exclude from the estimator</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – In case the number of forced predictors is larger than the maximum
    number of allowed predictors in the model</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cobra.evaluation">
<span id="cobra-evaluation-module"></span><h2>cobra.evaluation module<a class="headerlink" href="#module-cobra.evaluation" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="cobra.evaluation.generate_pig_tables">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">generate_pig_tables</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">id_column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">preprocessed_predictors</span><span class="p">:</span> <span class="n">list</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/evaluation/pigs_tables.html#generate_pig_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.generate_pig_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute PIG tables for all predictors in preprocessed_predictors. The
output is a DataFrame with columns “variable”, “label”, “pop_size”,
“avg_incidence” and “incidence”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – basetable to compute PIG tables of</p></li>
<li><p><strong>id_column_name</strong> (<em>str</em>) – column name of the id (e.g. customernumber)</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – column name of the target</p></li>
<li><p><strong>predictors</strong> (<em>list</em>) – list of preprocessed predictor names</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing a PIG table for all predictors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.evaluation.compute_pig_table">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">compute_pig_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">id_column_name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="reference internal" href="../_modules/cobra/evaluation/pigs_tables.html#compute_pig_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.compute_pig_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the pig table of a given predictor for a given target</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – input data from which to compute the pig table</p></li>
<li><p><strong>column_name</strong> (<em>str</em>) – predictor name of which to compute the pig table</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em>) – name of the target variable</p></li>
<li><p><strong>id_column_name</strong> (<em>str</em>) – name of the id column (used to count population size)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pig table as a DataFrame</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.evaluation.plot_pig_graph">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">plot_pig_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pig_table</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em>, <em class="sig-param"><span class="n">save_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/pigs_tables.html#plot_pig_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.plot_pig_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the Predictor Insights Graphs from a PIG table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pig_table</strong> (<em>pd.DataFrame</em>) – Description</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Tuple with width and lentgh of the plot</p></li>
<li><p><strong>save_path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the plot on disk</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.evaluation.plot_performance_curves">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">plot_performance_curves</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_performance</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em>, <em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">colors</span><span class="p">:</span> <span class="n">dict</span> <span class="o">=</span> <span class="default_value">{'selection': '#ff9500', 'train': '#0099bf', 'validation': '#8064a2'}</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/plotting_utils.html#plot_performance_curves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.plot_performance_curves" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot performance curves generated by the forward feature selection
for the train-selection-validation sets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_performance</strong> (<em>pd.DataFrame</em>) – contains train-selection-validation performance for each model trained
in the forward feature selection</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.evaluation.plot_variable_importance">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">plot_variable_importance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_variable_importance</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em>, <em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/plotting_utils.html#plot_variable_importance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.plot_variable_importance" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot variable importance of a given model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_variable_importance</strong> (<em>pd.DataFrame</em>) – DataFrame containing columns predictor and importance</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – Title of the plot</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.evaluation.plot_univariate_predictor_quality">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">plot_univariate_predictor_quality</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_auc</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em>, <em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/plotting_utils.html#plot_univariate_predictor_quality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.plot_univariate_predictor_quality" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot univariate quality of the predictors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_auc</strong> (<em>pd.DatFrame</em>) – Contains for each variable the train auc and selection auc allong with
a boolean indicating whether or not it is selected based on the
criteria</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.evaluation.plot_correlation_matrix">
<code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">plot_correlation_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df_corr</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em>, <em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/plotting_utils.html#plot_correlation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.plot_correlation_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot correlation matrix amongst the predictors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_corr</strong> (<em>pd.DataFrame</em>) – Correlation matrix</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="cobra.evaluation.Evaluator">
<em class="property">class </em><code class="sig-prename descclassname">cobra.evaluation.</code><code class="sig-name descname">Evaluator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">probability_cutoff</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">lift_at</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.05</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Summary</p>
<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.confusion_matrix">
<code class="sig-name descname">confusion_matrix</code><a class="headerlink" href="#cobra.evaluation.Evaluator.confusion_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Confusion matrix computed for a particular cut-off</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.cumulative_gains">
<code class="sig-name descname">cumulative_gains</code><a class="headerlink" href="#cobra.evaluation.Evaluator.cumulative_gains" title="Permalink to this definition">¶</a></dt>
<dd><p>data for plotting cumulative gains curve</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.evaluation_metrics">
<code class="sig-name descname">evaluation_metrics</code><a class="headerlink" href="#cobra.evaluation.Evaluator.evaluation_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>map containing various scalar evaluation metics such as AUC, …</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.lift_at">
<code class="sig-name descname">lift_at</code><a class="headerlink" href="#cobra.evaluation.Evaluator.lift_at" title="Permalink to this definition">¶</a></dt>
<dd><p>parameter to determine at which top level percentage the lift of the
model should be computed</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.lift_curve">
<code class="sig-name descname">lift_curve</code><a class="headerlink" href="#cobra.evaluation.Evaluator.lift_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>data for plotting lift curve(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.probability_cutoff">
<code class="sig-name descname">probability_cutoff</code><a class="headerlink" href="#cobra.evaluation.Evaluator.probability_cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>probability cut off to convert probability scores to a binary score</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="cobra.evaluation.Evaluator.roc_curve">
<code class="sig-name descname">roc_curve</code><a class="headerlink" href="#cobra.evaluation.Evaluator.roc_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>map containing true-positive-rate, false-positve-rate at various
thresholds (also incl.)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y_true</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">y_pred</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.compute_scalar_metrics">
<em class="property">static </em><code class="sig-name descname">compute_scalar_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y_true</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">y_pred</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">y_pred_b</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">lift_at</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.series.Series<a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.compute_scalar_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.compute_scalar_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenient function to compute various scalar performance measures
and return them in a pd.Series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_true</strong> (<em>np.ndarray</em>) – True binary target data labels</p></li>
<li><p><strong>y_pred</strong> (<em>np.ndarray</em>) – Target scores of the model</p></li>
<li><p><strong>y_pred_b</strong> (<em>np.ndarray</em>) – Predicted target data labels (binary)</p></li>
<li><p><strong>lift_at</strong> (<em>float</em>) – At what top level percentage the lift should be computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>contains various performance measures of the model</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.plot_roc_curve">
<code class="sig-name descname">plot_roc_curve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.plot_roc_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.plot_roc_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot ROC curves of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.plot_confusion_matrix">
<code class="sig-name descname">plot_confusion_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em>, <em class="sig-param"><span class="n">labels</span><span class="p">:</span> <span class="n">list</span> <span class="o">=</span> <span class="default_value">['0', '1']</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.plot_confusion_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.plot_confusion_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the confusion matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
<li><p><strong>labels</strong> (<em>list</em><em>, </em><em>optional</em>) – Optional list of labels, default “0” and “1”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.plot_cumulative_response_curve">
<code class="sig-name descname">plot_cumulative_response_curve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.plot_cumulative_response_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.plot_cumulative_response_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot cumulative response curve</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.plot_lift_curve">
<code class="sig-name descname">plot_lift_curve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.plot_lift_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.plot_lift_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot lift per decile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.plot_cumulative_gains">
<code class="sig-name descname">plot_cumulative_gains</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dim</span><span class="p">:</span> <span class="n">tuple</span> <span class="o">=</span> <span class="default_value">(12, 8)</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.plot_cumulative_gains"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.plot_cumulative_gains" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot lift per decile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – path to store the figure</p></li>
<li><p><strong>dim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – tuple with width and lentgh of the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="cobra.evaluation.Evaluator.find_optimal_cutoff">
<em class="property">static </em><code class="sig-name descname">find_optimal_cutoff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">y_true</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">y_pred</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="../_modules/cobra/evaluation/evaluator.html#Evaluator.find_optimal_cutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.evaluation.Evaluator.find_optimal_cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the optimal probability cut off point for a
classification model. Wrapper around _compute_optimal_cutoff</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_true</strong> (<em>np.ndarray</em>) – True binary target data labels</p></li>
<li><p><strong>y_pred</strong> (<em>np.ndarray</em>) – Target scores of the model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Optimal cut off probability for the model</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cobra.utils">
<span id="cobra-utils-module"></span><h2>cobra.utils module<a class="headerlink" href="#module-cobra.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="cobra.utils.get_column_datatypes">
<code class="sig-prename descclassname">cobra.utils.</code><code class="sig-name descname">get_column_datatypes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">target_column_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">id_column_name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold_numeric_is_categorical</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em><span class="sig-paren">)</span> &#x2192; dict<a class="reference internal" href="../_modules/cobra/utils.html#get_column_datatypes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.utils.get_column_datatypes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of column names by data type from a pandas DataFrame,
excluding the id column and the target_column if provided</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) – data to extract columns by type from</p></li>
<li><p><strong>target_column_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Description</p></li>
<li><p><strong>id_column_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Description</p></li>
<li><p><strong>threshold_numeric_is_categorical</strong> (<em>int</em><em>, </em><em>optional</em>) – Threshold to decide whether a numeric variable is categorical based
on the number of unique values in that column</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="cobra.utils.clean_predictor_name">
<code class="sig-prename descclassname">cobra.utils.</code><code class="sig-name descname">clean_predictor_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predictor</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/cobra/utils.html#clean_predictor_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cobra.utils.clean_predictor_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip-off redundant suffix (e.g. “_enc” or “_bin”) from the predictor
name to return a clean version of the predictor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>predictor</strong> (<em>str</em>) – Description</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Description</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="cobra" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Python Predictions

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>